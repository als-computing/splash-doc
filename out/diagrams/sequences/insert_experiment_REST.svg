<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="512px" preserveAspectRatio="none" style="width:959px;height:512px;" version="1.1" viewBox="0 0 959 512" width="959px" zoomAndPan="magnify"><defs><filter height="300%" id="f1bbk14wctvlrb" width="300%" x="-1" y="-1"><feGaussianBlur result="blurOut" stdDeviation="2.0"/><feColorMatrix in="blurOut" result="blurOut2" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0"/><feOffset dx="4.0" dy="4.0" in="blurOut2" result="blurOut3"/><feBlend in="SourceGraphic" in2="blurOut3" mode="normal"/></filter></defs><g><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="189" x="385.5" y="22.9951">insert_experiment_REST</text><rect fill="#FFFFFF" filter="url(#f1bbk14wctvlrb)" height="171.6641" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="379.5" y="205.9922"/><rect fill="#FFFFFF" filter="url(#f1bbk14wctvlrb)" height="63.2656" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="691.5" y="314.3906"/><rect fill="#FFFFFF" filter="url(#f1bbk14wctvlrb)" height="58.2656" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="794.5" y="348.5234"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="27" x2="27" y1="116.5938" y2="424.7891"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="120" x2="120" y1="116.5938" y2="424.7891"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="211" x2="211" y1="116.5938" y2="424.7891"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="384" x2="384" y1="116.5938" y2="424.7891"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="613" x2="613" y1="116.5938" y2="424.7891"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="696" x2="696" y1="116.5938" y2="424.7891"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="799.5" x2="799.5" y1="116.5938" y2="424.7891"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="897" x2="897" y1="116.5938" y2="424.7891"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="32" x="8" y="113.292">User</text><ellipse cx="27" cy="43.2969" fill="#FEFECE" filter="url(#f1bbk14wctvlrb)" rx="8" ry="8" style="stroke: #A80036; stroke-width: 2.0;"/><path d="M27,51.2969 L27,78.2969 M14,59.2969 L40,59.2969 M27,78.2969 L14,93.2969 M27,78.2969 L40,93.2969 " fill="none" filter="url(#f1bbk14wctvlrb)" style="stroke: #A80036; stroke-width: 2.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="32" x="8" y="436.7842">User</text><ellipse cx="27" cy="450.0859" fill="#FEFECE" filter="url(#f1bbk14wctvlrb)" rx="8" ry="8" style="stroke: #A80036; stroke-width: 2.0;"/><path d="M27,458.0859 L27,485.0859 M14,466.0859 L40,466.0859 M27,485.0859 L14,500.0859 M27,485.0859 L40,500.0859 " fill="none" filter="url(#f1bbk14wctvlrb)" style="stroke: #A80036; stroke-width: 2.0;"/><rect fill="#FEFECE" filter="url(#f1bbk14wctvlrb)" height="30.2969" style="stroke: #A80036; stroke-width: 1.5;" width="80" x="78" y="81.2969"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="66" x="85" y="101.292">ClientApp</text><rect fill="#FEFECE" filter="url(#f1bbk14wctvlrb)" height="30.2969" style="stroke: #A80036; stroke-width: 1.5;" width="80" x="78" y="423.7891"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="66" x="85" y="443.7842">ClientApp</text><rect fill="#FEFECE" filter="url(#f1bbk14wctvlrb)" height="30.2969" style="stroke: #A80036; stroke-width: 1.5;" width="75" x="172" y="81.2969"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="61" x="179" y="101.292">RESTSvc</text><rect fill="#FEFECE" filter="url(#f1bbk14wctvlrb)" height="30.2969" style="stroke: #A80036; stroke-width: 1.5;" width="75" x="172" y="423.7891"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="61" x="179" y="443.7842">RESTSvc</text><rect fill="#FEFECE" filter="url(#f1bbk14wctvlrb)" height="30.2969" style="stroke: #A80036; stroke-width: 1.5;" width="35" x="365" y="81.2969"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="21" x="372" y="101.292">API</text><rect fill="#FEFECE" filter="url(#f1bbk14wctvlrb)" height="30.2969" style="stroke: #A80036; stroke-width: 1.5;" width="35" x="365" y="423.7891"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="21" x="372" y="443.7842">API</text><rect fill="#FEFECE" filter="url(#f1bbk14wctvlrb)" height="30.2969" style="stroke: #A80036; stroke-width: 1.5;" width="73" x="575" y="81.2969"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="59" x="582" y="101.292">Validator</text><rect fill="#FEFECE" filter="url(#f1bbk14wctvlrb)" height="30.2969" style="stroke: #A80036; stroke-width: 1.5;" width="73" x="575" y="423.7891"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="59" x="582" y="443.7842">Validator</text><rect fill="#FEFECE" filter="url(#f1bbk14wctvlrb)" height="30.2969" style="stroke: #A80036; stroke-width: 1.5;" width="65" x="662" y="81.2969"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="51" x="669" y="101.292">Injestor</text><rect fill="#FEFECE" filter="url(#f1bbk14wctvlrb)" height="30.2969" style="stroke: #A80036; stroke-width: 1.5;" width="65" x="662" y="423.7891"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="51" x="669" y="443.7842">Injestor</text><rect fill="#FEFECE" filter="url(#f1bbk14wctvlrb)" height="30.2969" style="stroke: #A80036; stroke-width: 1.5;" width="62" x="766.5" y="81.2969"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="48" x="773.5" y="101.292">Mongo</text><rect fill="#FEFECE" filter="url(#f1bbk14wctvlrb)" height="30.2969" style="stroke: #A80036; stroke-width: 1.5;" width="62" x="766.5" y="423.7891"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="48" x="773.5" y="443.7842">Mongo</text><rect fill="#FEFECE" filter="url(#f1bbk14wctvlrb)" height="30.2969" style="stroke: #A80036; stroke-width: 1.5;" width="105" x="843" y="81.2969"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="91" x="850" y="101.292">Elasticsearch</text><rect fill="#FEFECE" filter="url(#f1bbk14wctvlrb)" height="30.2969" style="stroke: #A80036; stroke-width: 1.5;" width="105" x="843" y="423.7891"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="91" x="850" y="443.7842">Elasticsearch</text><rect fill="#FFFFFF" filter="url(#f1bbk14wctvlrb)" height="171.6641" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="379.5" y="205.9922"/><rect fill="#FFFFFF" filter="url(#f1bbk14wctvlrb)" height="63.2656" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="691.5" y="314.3906"/><rect fill="#FFFFFF" filter="url(#f1bbk14wctvlrb)" height="58.2656" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="794.5" y="348.5234"/><polygon fill="#A80036" points="108,143.7266,118,147.7266,108,151.7266,112,147.7266" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="27" x2="114" y1="147.7266" y2="147.7266"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="69" x="34" y="142.6606">insert(doc)</text><polygon fill="#A80036" points="199.5,172.8594,209.5,176.8594,199.5,180.8594,203.5,176.8594" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="120" x2="205.5" y1="176.8594" y2="176.8594"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="61" x="127" y="171.7935">post(doc)</text><polygon fill="#A80036" points="367.5,201.9922,377.5,205.9922,367.5,209.9922,371.5,205.9922" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="211.5" x2="373.5" y1="205.9922" y2="205.9922"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="149" x="218.5" y="200.9263">insert_experiment(doc)</text><line style="stroke: #A80036; stroke-width: 1.0;" x1="389.5" x2="431.5" y1="235.125" y2="235.125"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="431.5" x2="431.5" y1="235.125" y2="248.125"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="390.5" x2="431.5" y1="248.125" y2="248.125"/><polygon fill="#A80036" points="400.5,244.125,390.5,248.125,400.5,252.125,396.5,248.125" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="141" x="396.5" y="230.0591">choose_validator(doc)</text><polygon fill="#A80036" points="601.5,273.2578,611.5,277.2578,601.5,281.2578,605.5,277.2578" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="389.5" x2="607.5" y1="277.2578" y2="277.2578"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="200" x="396.5" y="272.1919">validate_schema(schema, doc)</text><line style="stroke: #A80036; stroke-width: 1.0;" x1="389.5" x2="436.5" y1="301.3906" y2="301.3906"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="436.5" x2="436.5" y1="301.3906" y2="314.3906"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="395.5" x2="436.5" y1="314.3906" y2="314.3906"/><polygon fill="#A80036" points="405.5,310.3906,395.5,314.3906,405.5,318.3906,401.5,314.3906" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="133" x="401.5" y="296.3247">choose_injestor(doc)</text><polygon fill="#A80036" points="679.5,344.5234,689.5,348.5234,679.5,352.5234,683.5,348.5234" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="389.5" x2="685.5" y1="348.5234" y2="348.5234"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="67" x="396.5" y="343.4575">injest(doc)</text><polygon fill="#A80036" points="782.5,373.6563,792.5,377.6563,782.5,381.6563,786.5,377.6563" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="696.5" x2="788.5" y1="377.6563" y2="377.6563"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="69" x="703.5" y="372.5903">insert(doc)</text><polygon fill="#A80036" points="885.5,402.7891,895.5,406.7891,885.5,410.7891,889.5,406.7891" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="799.5" x2="891.5" y1="406.7891" y2="406.7891"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="69" x="806.5" y="401.7231">insert(doc)</text><!--
@startuml
title insert_experiment_REST
actor User
User -> ClientApp: insert(doc)
ClientApp -> RESTSvc: post(doc)
RESTSvc -> API: insert_experiment(doc)
activate API
API -> API: choose_validator(doc)
API -> Validator: validate_schema(schema, doc)
API -> API: choose_injestor(doc)

activate Injestor
API -> Injestor: injest(doc)
activate Mongo
Injestor -> Mongo: insert(doc)
deactivate Injestor
deactivate API
Mongo -> Elasticsearch: insert(doc)
deactivate Mongo
@enduml

PlantUML version 1.2019.06(Fri May 24 10:10:25 PDT 2019)
(GPL source distribution)
Java Runtime: OpenJDK Runtime Environment
JVM: OpenJDK 64-Bit Server VM
Java Version: 11.0.3+7-Ubuntu-1ubuntu218.04.1
Operating System: Linux
OS Version: 4.18.0-25-generic
Default Encoding: UTF-8
Language: en
Country: US
--></g></svg>